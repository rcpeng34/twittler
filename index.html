<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>
// note that line 10 must be modified
    $(document).ready(function(){

	// begin block to update users with all users
	for (var i = 0; i < users.length; i++){
		$("#users").append('<br>');
		$("#users").append(users[i]);
	};	
	
        var index = streams.home.length - 1;
		var displayedIndex = 0;
		
		// adjust the setInterval time to lower load time
		// begin block to update tweets		
		// now to check for updates and display
	  	// completed initial load of tweets
		window.setInterval( function() {
			// if streams.home is longer than before, there's a new tweet
			var newIndex = streams.home.length - 1;
			console.log("outside while loop");
			while (newIndex > displayedIndex ) {
				var tweet = streams.home[newIndex];
				$('#list').append('<li>' + tweet.user + " at " + tweet.created_at + ": " + tweet.message + '</li>');
				newIndex -= 1;
			};
		}, 1000);
    });
	

// note that $('#list').append('<li>' + streams.home[0].message + '</li>') will append the tweets to the list
    </script>

	<div id="container" style="width:5000px">


	<div id="header" style="background-color:#FFA700;width:500px;">
	<h1 style="margin-bottom:0;">Twittler: All Users</h1>
	</div>

	<div id="users" style="background-color:#FFA700;width:100px;float:left;">
	<br>
	<b>Stream</b>
	<br>
	<br>
	All Users
	</div>

	<div id="content" style="background-color:#EEEEEE;float:left;">
	<ul id="list">
	</ul>
	</div>
	
	</body>
</html>
